{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Downloads\\\\anonymous-messages\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged } from 'firebase/auth';\nimport { app } from './firebase'; // تأكد أن firebase.js موجود ومُعد فيه Firebase\nimport { collection, addDoc, serverTimestamp } from 'firebase/firestore';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [nickname, setNickname] = useState('');\n  const [message, setMessage] = useState('');\n  const [sent, setSent] = useState(false);\n  const auth = getAuth(app);\n  const provider = new GoogleAuthProvider();\n  const handleLogin = async () => {\n    try {\n      await signInWithPopup(auth, provider);\n    } catch (err) {\n      alert(\"حدث خطأ أثناء تسجيل الدخول\");\n      console.error(err);\n    }\n  };\n  const handleSendMessage = async () => {\n    if (!user) return alert(\"يجب تسجيل الدخول أولاً!\");\n    if (!nickname.trim() || !message.trim()) return alert(\"يرجى ملء جميع الحقول!\");\n    try {\n      await addDoc(collection(db, 'messages'), {\n        nickname,\n        message,\n        uid: user.uid,\n        createdAt: serverTimestamp()\n      });\n      setSent(true);\n      setMessage('');\n    } catch (error) {\n      alert(\"حدث خطأ أثناء إرسال الرسالة\");\n      console.error(error);\n    }\n  };\n  useEffect(() => {\n    onAuthStateChanged(auth, currentUser => {\n      setUser(currentUser);\n    });\n  }, [auth]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center bg-gray-100 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold mb-4\",\n        children: \"\\u0623\\u0631\\u0633\\u0644 \\u0631\\u0633\\u0627\\u0644\\u0629 \\u0645\\u062C\\u0647\\u0648\\u0644\\u0629\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), !user ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogin,\n        className: \"bg-red-500 text-white px-4 py-2 rounded-xl hover:bg-red-600 mb-4 w-full\",\n        children: \"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0627\\u0644\\u062F\\u062E\\u0648\\u0644 \\u0628\\u062D\\u0633\\u0627\\u0628 Google\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-green-600 mb-2\",\n        children: [\"\\u062A\\u0645 \\u062A\\u0633\\u062C\\u064A\\u0644 \\u0627\\u0644\\u062F\\u062E\\u0648\\u0644 \\u0643\\u0640 \", user.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u0627\\u0633\\u0645\\u0643 \\u0627\\u0644\\u0645\\u0633\\u062A\\u0639\\u0627\\u0631\",\n        value: nickname,\n        onChange: e => setNickname(e.target.value),\n        className: \"border p-2 w-full rounded mb-3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"\\u0627\\u0643\\u062A\\u0628 \\u0631\\u0633\\u0627\\u0644\\u062A\\u0643 \\u0647\\u0646\\u0627...\",\n        value: message,\n        onChange: e => setMessage(e.target.value),\n        className: \"border p-2 w-full rounded mb-3 h-28 resize-none\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSendMessage,\n        disabled: !user,\n        className: `w-full px-4 py-2 rounded-xl text-white ${user ? 'bg-blue-600 hover:bg-blue-700' : 'bg-gray-400 cursor-not-allowed'}`,\n        children: \"\\u0625\\u0631\\u0633\\u0627\\u0644 \\u0627\\u0644\\u0631\\u0633\\u0627\\u0644\\u0629\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), sent && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-green-500 mt-3\",\n        children: \"\\u062A\\u0645 \\u0625\\u0631\\u0633\\u0627\\u0644 \\u0631\\u0633\\u0627\\u0644\\u062A\\u0643 \\u0628\\u0646\\u062C\\u0627\\u062D \\u2705\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"S5u0oEc/Tykrw9Jixkz0gc3VWLE=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","getAuth","signInWithPopup","GoogleAuthProvider","onAuthStateChanged","app","collection","addDoc","serverTimestamp","jsxDEV","_jsxDEV","App","_s","user","setUser","nickname","setNickname","message","setMessage","sent","setSent","auth","provider","handleLogin","err","alert","console","error","handleSendMessage","trim","db","uid","createdAt","currentUser","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","email","type","placeholder","value","onChange","e","target","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/Downloads/anonymous-messages/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged } from 'firebase/auth';\nimport { app } from './firebase'; // تأكد أن firebase.js موجود ومُعد فيه Firebase\nimport { collection, addDoc, serverTimestamp } from 'firebase/firestore';\nimport './App.css';\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [nickname, setNickname] = useState('');\n  const [message, setMessage] = useState('');\n  const [sent, setSent] = useState(false);\n\n  const auth = getAuth(app);\n  const provider = new GoogleAuthProvider();\n\n  const handleLogin = async () => {\n    try {\n      await signInWithPopup(auth, provider);\n    } catch (err) {\n      alert(\"حدث خطأ أثناء تسجيل الدخول\");\n      console.error(err);\n    }\n  };\n\n  const handleSendMessage = async () => {\n    if (!user) return alert(\"يجب تسجيل الدخول أولاً!\");\n    if (!nickname.trim() || !message.trim()) return alert(\"يرجى ملء جميع الحقول!\");\n  \n    try {\n      await addDoc(collection(db, 'messages'), {\n        nickname,\n        message,\n        uid: user.uid,\n        createdAt: serverTimestamp()\n      });\n  \n      setSent(true);\n      setMessage('');\n    } catch (error) {\n      alert(\"حدث خطأ أثناء إرسال الرسالة\");\n      console.error(error);\n    }\n  };\n  \n\n  useEffect(() => {\n    onAuthStateChanged(auth, (currentUser) => {\n      setUser(currentUser);\n    });\n  }, [auth]);\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-100 p-4\">\n      <div className=\"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md text-center\">\n        <h1 className=\"text-2xl font-bold mb-4\">أرسل رسالة مجهولة</h1>\n\n        {!user ? (\n          <button\n            onClick={handleLogin}\n            className=\"bg-red-500 text-white px-4 py-2 rounded-xl hover:bg-red-600 mb-4 w-full\"\n          >\n            تسجيل الدخول بحساب Google\n          </button>\n        ) : (\n          <p className=\"text-green-600 mb-2\">تم تسجيل الدخول كـ {user.email}</p>\n        )}\n\n        <input\n          type=\"text\"\n          placeholder=\"اسمك المستعار\"\n          value={nickname}\n          onChange={(e) => setNickname(e.target.value)}\n          className=\"border p-2 w-full rounded mb-3\"\n        />\n\n        <textarea\n          placeholder=\"اكتب رسالتك هنا...\"\n          value={message}\n          onChange={(e) => setMessage(e.target.value)}\n          className=\"border p-2 w-full rounded mb-3 h-28 resize-none\"\n        />\n\n        <button\n          onClick={handleSendMessage}\n          disabled={!user}\n          className={`w-full px-4 py-2 rounded-xl text-white ${user ? 'bg-blue-600 hover:bg-blue-700' : 'bg-gray-400 cursor-not-allowed'}`}\n        >\n          إرسال الرسالة\n        </button>\n\n        {sent && <p className=\"text-green-500 mt-3\">تم إرسال رسالتك بنجاح ✅</p>}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}